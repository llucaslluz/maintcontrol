<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/images/V-sem-fundo.png" type="image/png">
  <title>Dashboard - Operacional | MaintControl</title>
  <link rel="stylesheet" href="/css/dashboardOperacional.css" />
  <link rel="stylesheet" href="/css/sidebar.css" />
    <link rel="stylesheet" href="/css/botaoEmergencia.css" />
        <link rel="stylesheet" href="/css/loader.css" />
    <script defer src="/js/loader.js"></script>
  <script defer src="/js/botaoEmergencia.js"></script>
  <script defer src="/js/sidebar.js"></script>
  <script defer src="/js/mobileMenu.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>

</head>
<body>

      <!-- Loader personalizado VOITH -->
<div id="voith-loader" class="voith-loader-overlay">
  <div class="voith-loader-content">
    <img src="/images/rotor-voith.png" alt="Rotor" class="rotor-girando" />
    <img src="/images/Voith-sem-fundo.png" alt="VOITH" class="voith-logo" />
  </div>
</div>

  <aside class="sidebar">
    <div class="logo-box">
      <img src="/images/Voith-sem-fundo.png" alt="Logo" class="logo-img" />
      <span class="logo-text">MaintControl</span>
    </div>

    <div class="menu-container">
<nav class="menu-superior">

  <!-- DASHBOARD (sem submenu) -->
<a data-dashboard-link href="#">
  <i data-lucide="layout-dashboard"></i> Dashboard
</a>

  <!-- CHAMADOS -->
  <div class="menu-dropdown">
    <div class="menu-title"><i data-lucide="file-text"></i> Chamados</div>
    <div class="mobile-dropdown-trigger" data-menu="menu-chamados" title="Chamados">
      <i data-lucide="file-text"></i>
    </div>
    <div class="submenu" id="menu-chamados">
      <a href="/AbrirChamadoUsuario.html">Abrir Chamado</a>
      <a href="/ListagemChamados.html">Lista de Chamados</a>
    </div>
  </div>

  <!-- MAPAS -->
  <div class="menu-dropdown">
    <div class="menu-title"><i data-lucide="map"></i> Mapas</div>
    <div class="mobile-dropdown-trigger" data-menu="menu-mapas" title="Mapas">
      <i data-lucide="map"></i>
    </div>
    <div class="submenu" id="menu-mapas">
      <a href="/Mapa.html">Mapas</a>
      <a href="/MapaMaquinas.html">M√°quinas</a>
      <a href="/MapaCaldeiraria.html">Caldeiraria</a>
      <a href="/MapaFabricaEletrica.html">F√°brica El√©trica</a>
      <a href="/MapaPontes.html">Pontes / P√≥rticos</a>
    </div>
  </div>

  <!-- GEST√ÉO -->
  <div class="menu-dropdown">
    <div class="menu-title"><i data-lucide="settings"></i> Gest√£o</div>
    <div class="mobile-dropdown-trigger" data-menu="menu-gestao" title="Gest√£o">
      <i data-lucide="settings"></i>
    </div>
    <div class="submenu" id="menu-gestao">
      <a href="/GestaoUsuarios.html">Usu√°rios</a>
      <a href="/GestaoPermissoes.html">Permiss√µes</a>
      <a href="/GestaoLocais.html">Locais / Setores</a>
      <a href="/GestaoTipoManutencao.html">Tipos de Manuten√ß√£o</a>
      <a href="/GestaoCategoriaUsuario.html">Categorias de Usu√°rio</a>
      <a href="/GestaoMaquinasDispositivos.html">M√°quinas e Dispositivos</a>
    </div>
  </div>

  <!-- RELAT√ìRIOS -->
  <div class="menu-dropdown">
    <div class="menu-title"><i data-lucide="bar-chart-2"></i> Relat√≥rios</div>
    <div class="mobile-dropdown-trigger" data-menu="menu-relatorios" title="Relat√≥rios">
      <i data-lucide="bar-chart-2"></i>
    </div>
    <div class="submenu" id="menu-relatorios">
      <a href="/RelatoriosExportacoes.html">Relat√≥rios e Exporta√ß√µes</a>
      <a href="/HistoricoAuditoria.html">Hist√≥rico e Auditoria</a>
    </div>
  </div>

  <!-- PERFIL -->
  <a href="/Perfil.html">
    <i data-lucide="user"></i> Meu Perfil
  </a>

</nav>


      <div class="menu-inferior">
        <hr />
        <a href="../index.html" class="sair-link"><i data-lucide="log-out"></i> Sair</a>
      </div>
    </div>
  </aside>

<main class="conteudo">
  <h1>Dashboard Operacional</h1>
  <p>Visualize os chamados do seu setor e o status das m√°quinas em tempo real.</p>

  <!-- üî¥ Bot√£o de Emerg√™ncia -->
<button class="botao-emergencia" onclick="abrirModalEmergencia()">üö® EMERG√äNCIA</button>

<!-- üîÅ Modal de Emerg√™ncia -->
<div id="modal-emergencia" class="modal hidden">
  <div class="modal-content">
    <h2>üö® Abrir Chamado de Emerg√™ncia</h2>
    <label for="local">Selecione o local:</label>
    <select id="local-emergencia">
      <option>Expedi√ß√£o</option>
      <option>Montagem</option>
      <option>Usinagem</option>
    </select>
    <div class="botoes-modal">
      <button onclick="enviarEmergencia()">Confirmar</button>
      <button onclick="fecharModalEmergencia()">Cancelar</button>
    </div>
  </div>
</div>

  <!-- üîπ VIS√ÉO GERAL -->
  <section class="resumo-status">
    <div class="card-status aberto">üìÇ Abertos<br><strong>2</strong></div>
    <div class="card-status andamento">üîÑ Em Andamento<br><strong>1</strong></div>
  </section>

  <!-- üîπ FILTROS -->
  <section class="filtros-dashboard">
    <select><option>Status</option><option>Aberto</option><option>Em Andamento</option></select>
    <select><option>Local</option><option>Expedi√ß√£o</option><option>Montagem</option></select>
    <select><option>M√°quina</option><option>Prensa A1</option><option>Torno C3</option></select>
    <select><option>Status da M√°quina</option><option>Rodando</option><option>Parada</option><option>Manuten√ß√£o</option></select>
  </section>

  <!-- üîπ A√á√ïES -->
  <section class="acoes-rapidas">
    <button onclick="window.location.href='../Pages/AbrirChamadoUsuario.html'">‚ûï Abrir Chamado</button>
    <button onclick="window.location.href='../Pages/Mapa.html'">üó∫Ô∏è Ver Mapa da Planta</button>
  </section>

  <!-- üîπ LISTA DE CHAMADOS -->
  <section class="lista-chamados">
    <h2>Chamados do Local</h2>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>M√°quina</th>
          <th>Status</th>
          <th>Prioridade</th>
          <th>A√ß√µes</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>#1240</td>
          <td>Prensa A1</td>
          <td>Aberto</td>
          <td>Alta</td>
          <td><button>Ver Detalhe</button></td>
        </tr>
        <tr>
          <td>#1241</td>
          <td>Torno C3</td>
          <td>Em Andamento</td>
          <td>M√©dia</td>
          <td><button>Ver Detalhe</button></td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- üîπ M√ÅQUINAS COM ALTERA√á√ïES RECENTES -->
  <section class="alteracoes-recentes">
    <h2>M√°quinas com Altera√ß√µes Recentes</h2>
    <ul>
      <li>Prensa A1 - Parada - por T√©cnico Jo√£o √†s 14:15</li>
      <li>Ponte C2 - Produ√ß√£o - por Operador Lucas √†s 14:00</li>
    </ul>
  </section>
</main>


  <script>
    lucide.createIcons();
  </script>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script src="/JS/supabaseClient.js"></script> <!-- Caminho do seu arquivo JS -->

</body>
</html>
