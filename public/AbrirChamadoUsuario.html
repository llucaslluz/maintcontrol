<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/images/V-sem-fundo.png" type="image/png">
  <title>Abrir Chamado - MaintControl</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="/css/sidebar.css" />
  <link rel="stylesheet" href="/css/abrirChamadoUsuario.css" />

  <!-- Scripts -->
  <script defer src="/js/sidebar.js"></script>
  <script defer src="/js/mobileMenu.js"></script>
  <script defer src="/js/abrirChamadoUsuario.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script defer src="/js/uploadAnexo.js"></script>

</head>
<body>

  <!-- üî∑ SIDEBAR -->
  <aside class="sidebar">
    <div class="logo-box">
      <img src="/images/Voith-sem-fundo.png" alt="Logo" class="logo-img" />
      <span class="logo-text">MaintControl</span>
    </div>

    <div class="menu-container">
<nav class="menu-superior">

  <!-- DASHBOARD (sem submenu) -->
<a data-dashboard-link href="#">
  <i data-lucide="layout-dashboard"></i> Dashboard
</a>

  <!-- CHAMADOS -->
  <div class="menu-dropdown">
    <div class="menu-title"><i data-lucide="file-text"></i> Chamados</div>
    <div class="mobile-dropdown-trigger" data-menu="menu-chamados" title="Chamados">
      <i data-lucide="file-text"></i>
    </div>
    <div class="submenu" id="menu-chamados">
      <a href="/AbrirChamadoUsuario.html">Abrir Chamado</a>
      <a href="/ListagemChamados.html">Lista de Chamados</a>
    </div>
  </div>

  <!-- MAPAS -->
  <div class="menu-dropdown">
    <div class="menu-title"><i data-lucide="map"></i> Mapas</div>
    <div class="mobile-dropdown-trigger" data-menu="menu-mapas" title="Mapas">
      <i data-lucide="map"></i>
    </div>
    <div class="submenu" id="menu-mapas">
      <a href="/Mapa.html">Mapas</a>
      <a href="/MapaMaquinas.html">M√°quinas</a>
      <a href="/MapaCaldeiraria.html">Caldeiraria</a>
      <a href="/MapaFabricaEletrica.html">F√°brica El√©trica</a>
      <a href="/MapaPontes.html">Pontes / P√≥rticos</a>
    </div>
  </div>

  <!-- GEST√ÉO -->
  <div class="menu-dropdown">
    <div class="menu-title"><i data-lucide="settings"></i> Gest√£o</div>
    <div class="mobile-dropdown-trigger" data-menu="menu-gestao" title="Gest√£o">
      <i data-lucide="settings"></i>
    </div>
    <div class="submenu" id="menu-gestao">
      <a href="/GestaoUsuarios.html">Usu√°rios</a>
      <a href="/GestaoPermissoes.html">Permiss√µes</a>
      <a href="/GestaoLocais.html">Locais / Setores</a>
      <a href="/GestaoTipoManutencao.html">Tipos de Manuten√ß√£o</a>
      <a href="/GestaoCategoriaUsuario.html">Categorias de Usu√°rio</a>
      <a href="/GestaoMaquinasDispositivos.html">M√°quinas e Dispositivos</a>
    </div>
  </div>

  <!-- RELAT√ìRIOS -->
  <div class="menu-dropdown">
    <div class="menu-title"><i data-lucide="bar-chart-2"></i> Relat√≥rios</div>
    <div class="mobile-dropdown-trigger" data-menu="menu-relatorios" title="Relat√≥rios">
      <i data-lucide="bar-chart-2"></i>
    </div>
    <div class="submenu" id="menu-relatorios">
      <a href="/RelatoriosExportacoes.html">Relat√≥rios e Exporta√ß√µes</a>
      <a href="/HistoricoAuditoria.html">Hist√≥rico e Auditoria</a>
    </div>
  </div>

  <!-- PERFIL -->
  <a href="/Perfil.html">
    <i data-lucide="user"></i> Meu Perfil
  </a>

</nav>


      <div class="menu-inferior">
        <hr />
        <a href="../index.html" class="sair-link"><i data-lucide="log-out"></i> Sair</a>
      </div>
    </div>
  </aside>

  <!-- üî∂ CONTE√öDO PRINCIPAL -->
  <main class="conteudo">
    <h1>Abertura de Chamado</h1>

    <form id="formChamado" class="formulario-chamado">
      <fieldset>
        <legend>Identifica√ß√£o</legend>
        <label for="nome">Nome:</label>
        <input type="text" id="nome" value="" disabled>

        <label for="chapa">Chapa:</label>
        <input type="text" id="chapa" value="" disabled>

        <label for="funcao">Fun√ß√£o:</label>
        <input type="text" id="funcao" value="" disabled>

      </fieldset>

      <fieldset>
        <legend>Detalhes do Chamado</legend>

        <label for="local">Local:</label>
        <select id="local" required>
          <option value="">Selecione</option>
        </select>

        <label for="maquina">M√°quina:</label>
        <select id="maquina" required>
          <option value="">Selecione</option>
        </select>

        <label for="tipo">Tipo de Manuten√ß√£o:</label>
        <select id="tipo" required>
          <option value="">Selecione</option>
        </select>
        
<label for="status">Status da M√°quina:</label>
<select id="status" required>
  <option value="">Selecione</option>
  <option value="Parada">Parada</option>
  <option value="Em Opera√ß√£o">Em Opera√ß√£o</option>
  <option value="Em Prepara√ß√£o">Em Prepara√ß√£o</option>
  <option value="Em Manuten√ß√£o">Em Manuten√ß√£o</option>
</select>

        <label for="prioridade">Prioridade:</label>
        <select id="prioridade" required>
          <option value="alta">Alta</option>
          <option value="media">M√©dia</option>
          <option value="baixa">Baixa</option>
        </select>

        <label for="descricao">Descri√ß√£o do Problema:</label>
        <textarea id="descricao" rows="4" required placeholder="Descreva o problema..."></textarea>

        <!-- Bot√£o de Anexo -->
        <button type="button" id="botao-anexo" class="botao-anexo" onclick="abrirAnexo()">
          <i data-lucide="paperclip" style="width: 16px; height: 16px;"></i> Anexar Arquivos
        </button>

        <!-- Modal de Anexo -->
        <div id="anexo" class="anexo-modal">
          <h2>Anexar Arquivos</h2>
          <p>Selecione um ou mais arquivos (imagens, PDF, v√≠deos).</p>

          <input type="file" id="arquivo" multiple accept="image/*,.pdf,.mp4" onchange="mostrarNomeArquivos()" />
          <ul id="lista-arquivos"></ul>

          <br>
          <button type="button">
            <i data-lucide="upload" style="width: 16px; height: 16px;"></i> Enviar
          </button>
          <button type="button" onclick="fecharAnexo()">‚ùå Cancelar</button>
        </div>
      </fieldset>

      <button type="submit">Abrir Chamado</button>
    </form>
  </main>

  <script>
    lucide.createIcons();
  </script>

<!-- 1. SDK do Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<!-- 2. Client do seu projeto -->
<script src="/js/supabaseClient.js"></script>

<!-- 3. Seus scripts da p√°gina (agora com supabase pronto) -->
<script defer src="/js/sidebar.js"></script>
<script defer src="/js/mobileMenu.js"></script>
<script defer src="/js/uploadAnexo.js"></script>
<script defer src="/js/abrirChamadoUsuario.js"></script>

</body>
</html>
